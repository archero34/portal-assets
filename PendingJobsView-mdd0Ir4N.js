var It=Object.defineProperty;var Ft=(a,l,c)=>l in a?It(a,l,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[l]=c;var Z=(a,l,c)=>Ft(a,typeof l!="symbol"?l+"":l,c);import{f as se,t as Ce,u as Ye,g as we,h as ge,d as Ge,r as d,i as Ke,o as Qe,b as w,c as G,q as n,j as p,s as ee,x as O,y as E,k as g,F as he,L as Pe,C as We,D as Xe,m as j,_ as Ze,E as je,w as Fe,l as M,v as ae,p as Ae,N as St}from"./index-njxYMIA0.js";import{u as Jt,c as ye,r as Se,C as Pt}from"./contactUseCases-BU1aOxSl.js";import{E as et,_ as kt}from"./IconClose.vue_vue_type_script_setup_true_lang-ChXQ_y-i.js";import{P as Vt}from"./PageView-BfH8tsmj.js";import{u as Et,I as $t,B as Re}from"./helpers-BA9LEKSq.js";import{B as fe,a as _e}from"./BlueCollarModal-BuahIIZF.js";import{B as ze}from"./BlueCollarForm-TCyGM1Se.js";import{_ as qt,H as Ot}from"./index-BPFpVZYo.js";import{B as Nt}from"./BlueCollarBadge-QXQIXcG4.js";import{B as Lt}from"./BlueCollarContent-OVW-PlcV.js";import{d as Dt}from"./index-CS5tPIud.js";import{B as Mt}from"./BlueCollarInput-Bbfj4CwT.js";class Tt{constructor(l){this.id=l}}class Ut extends Tt{constructor(c,u=[],m=[]){super(c);Z(this,"fieldServiceCustomer",{text:"",value:null});Z(this,"fieldServiceCaseType",{text:"",value:null});Z(this,"fieldServiceCaseDetails",{text:"",value:null});Z(this,"fieldServiceAsset",{text:"",value:null});Z(this,"email",{text:"",value:null});Z(this,"phone",{text:"",value:null});this.id=c,this.bodyFields=u,this.itemFields=m}}const Bt=()=>{const a=se({pendingJobs:[],pendingJob:{},totalItems:0,errors:[]}),l=async(P,h,x,T)=>{try{const L=Ye(P,h,x,T),{payload:D,errors:A}=await we(`&handler=case&dataset=list${L}`);D.value?(a.pendingJobs=D.value.items,a.totalItems=D.value.totalPages*parseInt(D.value.pageSize)):(a.pendingJobs=[],a.totalItems=0),a.errors=A.value}catch(L){console.error(L)}},c=async(P,h)=>{try{const{payload:x,errors:T}=await ge(`&handler=case&dataset=load&caseId=${P}`,JSON.stringify(h));a.pendingJob=x.value,a.errors=T.value}catch(x){console.error(x),a.errors=[x.message]}},u=async P=>{try{const{payload:h,errors:x}=await ge("&handler=case&dataset=create",JSON.stringify(P));a.pendingJob=h.value,a.errors=x.value}catch(h){console.error(h),a.errors=[h.message]}},m=async P=>{try{const{payload:h,errors:x}=await ge(`&handler=case&dataset=cancel&caseId=${P}`,null);a.pendingJob=h.value,a.errors=x.value}catch(h){console.error(h),a.errors=[h.message]}};return{...Ce(a),list:l,load:c,create:u,cancel:m}},{pendingJobs:jt,pendingJob:Je,totalItems:At,list:Rt,load:zt,create:Ht,cancel:Yt,errors:be}=Bt();class tt{async getPendingJobs(l,c,u,m){return await Rt(l,c,u,m),{pendingJobs:jt,totalItems:At,errors:be}}async getPendingJobById(l,c){return await zt(l,c),{pendingJob:Je,errors:be}}async createPendingJob(l){return await Ht(l),{pendingJob:Je,errors:be}}async cancelPendingJobById(l){return await Yt(l),{pendingJob:Je,errors:be}}}const Gt=()=>{const a=se({equipments:[],totalItems:0,errors:[]}),l=async(c,u,m,P)=>{try{const h=Ye(c,u,m,P),{payload:x,errors:T}=await we(`&handler=asset&dataset=listFilter${h}`);x.value?(a.equipments=x.value.items,a.totalItems=x.value.totalPages*parseInt(x.value.pageSize)):(a.equipments=[],a.totalItems=0),a.errors=T.value}catch(h){console.error(h),a.errors=[h.message]}};return{...Ce(a),filter:l}},{equipments:Kt,totalItems:Qt,filter:Wt,errors:Xt}=Gt();class Zt{async getEquipments(l,c,u,m){return await Wt(l,c,u,m),{equipments:Kt,totalItems:Qt,errors:Xt}}}const ea=()=>{const a=se({customers:[],errors:[]}),l=async c=>{try{const{payload:u,errors:m}=await we(`&handler=customer&dataset=filter&namePattern=${c}`);u.value?a.customers=u.value:a.customers=[],a.errors=m.value}catch(u){console.error(u),a.errors=[u.message]}};return{...Ce(a),filter:l}},{customers:ta,errors:aa,filter:sa}=ea();class oa{async getCustomers(l=""){return await sa(l),{customers:ta,errors:aa}}}const na=()=>{const a=se({pendingJobEntryFields:[],options:[],errors:[]}),l=async()=>{try{const{payload:u,errors:m}=await we("&handler=case&dataset=loadEntryFieldConfigurations");u.value?a.pendingJobEntryFields=u.value:a.pendingJobEntryFields=[],a.errors=m.value}catch(u){console.error(u),a.errors=[u.message]}},c=async u=>{try{const{payload:m,errors:P}=await ge("&handler=case&dataset=sourceValuesFromEntryFieldConfiguration",JSON.stringify(u));m.value?a.options=m.value:a.options=[],a.errors=P.value}catch(m){console.error(m),a.errors=[m.message]}};return{...Ce(a),load:l,sourceEntryField:c}},{pendingJobEntryFields:la,options:ra,load:ca,sourceEntryField:ia,errors:He}=na();class da{async getPendingJobEntryFields(){return await ca(),{pendingJobEntryFields:la,errors:He}}async getPendingJobSourceEntryFields(l){return await ia(l),{options:ra,errors:He}}}const ua=a=>(We("data-v-b6c46a5e"),a=a(),Xe(),a),va={class:"wrapper"},pa={class:"job-detail-wrapper"},ma={class:"job-header-wrapper"},ya={class:"job-info-wrapper"},ba={class:"job-title-wrapper"},ga={class:"bc-text bc-text-gray-800 bc-fs-24 m-0 p-0 task-title"},ha={class:"job-button-wrapper"},fa={class:"button-wrapper"},_a={class:"bc-text bc-text-gray-900 bc-fs-18 bc-fw-600"},Ca=ua(()=>n("span",{class:"bc-text bc-text-gray-500"},[j("Are you certain about canceling this Case Continuing will lock the Case and designate it as cancelled. For any changes or inquiries regarding the Case request or other details, reach out to us via email at "),n("u",null,"testcompany@test.com"),j(" or by phone at "),n("u",null,"555-555-5555"),j(".")],-1)),wa=Ge({__name:"PendingJobDetailView",props:{pendingJobId:{}},setup(a,{expose:l}){const c=d(null),{pendingJobId:u}=a,{setAlert:m}=Ke(),{getPendingJobById:P,cancelPendingJobById:h}=new tt,{getEntryForm:x}=new et,T=d(0),L=d(!1),D=d(!1),A=se({caseTitle:"",caseType:""}),oe=d([]),ce=d([]),R=d(!1),ie=async()=>{await I(!0),T.value++,L.value=!0},de=k=>{h(k)},U=()=>{ne(),de(u),ie()},ne=()=>{D.value=!D.value},B=async(k,_)=>{const{pendingJob:$,errors:z}=await P(k,_.value);if(z.value.length>0)console.error("Error loading pendingJob",z.value),m(),R.value=!1;else return $},ue=async()=>{const{entryForm:k,errors:_}=await x("CASE");if(_.value.length>0)console.error("Error loading pendingJob entry form",_.value),m(),R.value=!1;else return k},I=async(k=!1)=>{var z,K,Q;R.value=!0;const _=await ue();_.value.groups[0].fields.push({id:"status",label:"Status",visible:!0}),_.value.groups.push({label:"UI_INJECTED_FIELDS",visible:!1,fields:[{id:"assigned",label:"Case Supervisor",visible:!1},{id:"casenumber",label:"Case Number",visible:!1},{id:"custevent_fsm_bc_is_canceled",label:"Is Canceled",visible:!1}]});const $=await B(u,_);L.value=k||((z=$.value.bodyFields.find(V=>V.id==="custevent_fsm_bc_is_canceled"))==null?void 0:z.value),oe.value=_.value.groups.map(V=>({...V,fields:V.fields.filter(F=>F.visible).map(F=>{const C=$.value.bodyFields.find(xe=>xe.id===F.id);return(C==null?void 0:C.id)==="status"?{...F,value:C==null?void 0:C.value,text:L.value?"Canceled":C==null?void 0:C.text}:{...F,value:C==null?void 0:C.value,text:C==null?void 0:C.text}})})),ce.value=_.value.tabs.map(V=>({...V,groups:V.groups.map(F=>({...F,fields:F.fields.filter(C=>C.visible)}))})),A.caseTitle=(K=$.value.bodyFields.find(V=>V.id==="casenumber"))==null?void 0:K.value,A.caseType=(Q=$.value.bodyFields.find(V=>V.id==="custevent_nx_case_type"))==null?void 0:Q.text,R.value=!1};return Qe(async()=>{await I()}),l({wrapper:c,cancelCase:ie}),(k,_)=>(w(),G(he,null,[n("div",va,[n("div",pa,[n("div",ma,[n("div",ya,[p(Nt,{text:A.caseType,type:"primary"},null,8,["text"]),n("div",ba,[n("h2",ga,ee(A.caseTitle),1)])])]),oe.value.length>0?(w(),O(Lt,{key:T.value,items:oe.value,type:"list"},null,8,["items"])):E("",!0)]),n("div",ha,[n("div",fa,[L.value?E("",!0):(w(),O(_e,{key:0,text:"Cancel Case",type:"danger",callback:ne}))])])]),p(fe,{modelValue:D.value,"onUpdate:modelValue":_[0]||(_[0]=$=>D.value=$),onOnOk:U,type:"warning"},{content:g(()=>[n("span",_a,"Are you certain about canceling this "+ee(A.caseTitle)+"?",1),Ca]),_:1},8,["modelValue"]),R.value?(w(),O(Pe,{key:0})):E("",!0)],64))}}),xa=Ze(wa,[["__scopeId","data-v-b6c46a5e"]]),N=a=>(We("data-v-21edc1e3"),a=a(),Xe(),a),Ia={class:"pendingjobs-content-wrapper",id:"view"},Fa=N(()=>n("div",{class:"d-flex"},null,-1)),Sa={class:"d-flex gap-3"},Ja=N(()=>n("span",{class:"border"},null,-1)),Pa=N(()=>n("div",{class:"divider mb-3"},null,-1)),ka={class:"d-flex justify-content-start gap-3 filter-wrapper",id:"filter"},Va={class:"form-group"},Ea=N(()=>n("label",{class:"bc-text-dark",for:"date"},"Date",-1)),$a={class:"pt-3 px-4 w-100 bg-white"},qa={class:"container-fluid py-2",id:"invoice-item"},Oa={class:"bc-text bc-text-gray-modern-900"},Na={class:"card"},La={class:"card-body"},Da={class:"job-detail-form-header"},Ma=N(()=>n("div",{class:"bc-text bc-text-gray-900 bc-fw-500"},"Pending Job Detail",-1)),Ta={class:"form-header-actions"},Ua={class:"request-form-content"},Ba=N(()=>n("span",{class:"bc-text bc-fs-20 bc-fw-600"},"Request New Job",-1)),ja={class:"form-group w-100"},Aa=["for"],Ra={key:0,class:"text-danger"},za=N(()=>n("h2",{class:"text-h6 mb-2"},"Choose type",-1)),Ha={key:2,class:"bc-text bc-text-italic bc-text-gray-700"},Ya={key:4,class:"error-msg"},Ga={key:5,class:"error-msg"},Ka={class:"request-form-actions"},Qa=N(()=>n("span",{class:"bc-text bc-text-gray-800 bc-fs-16 bc-fw-600 text-center"},"Your service request has been sent successfully.",-1)),Wa=N(()=>n("span",{class:"bc-text bc-text-gray-500 text-center"},"Now you must wait for our team to review and accept your request. We will notify you by email once your request has been approved.",-1)),Xa={class:"bc-text bc-text-gray-900 bc-fs-18 bc-fw-600"},Za=N(()=>n("span",{class:"bc-text bc-text-gray-500"},[j("Are you certain about canceling this Case? Continuing will lock the Case and designate it as cancelled. For any changes or inquiries regarding the Case request or other details, reach out to us via email at "),n("u",null,"testcompany@test.com"),j(" or by phone at "),n("u",null,"555-555-5555"),j(".")],-1)),es=N(()=>n("span",{class:"bc-text bc-text-gray-800 bc-fs-16 bc-fw-600 text-center"}," This Case has been canceled. ",-1)),ts=N(()=>n("span",{class:"bc-text bc-text-gray-500 text-center"}," Please contact support if you believe this is an error. ",-1)),as=Ge({__name:"PendingJobsView",props:{user:{}},setup(a){const{user:l}=a,{setAlert:c}=Ke(),{getPendingJobs:u,getPendingJobById:m,createPendingJob:P,cancelPendingJobById:h}=new tt,{getEquipments:x}=new Zt,{getCustomers:T}=new oa,{getContactsList:L}=new Pt,{getEntryForm:D}=new et,{getPendingJobEntryFields:A,getPendingJobSourceEntryFields:oe}=new da,{handleUserPreference:ce}=Et(),R=d([]),ie=d([]),de=d({}),U=d(null),ne=d(null),B=d(null),ue={details:"",selectedContactItem:null,selectedServiceLocationItem:null,preferredDate:"",preferredTime:"",bodyFields:[]},I=se({...ue}),k=d(!1),_=d(!1),$=d(!1),z=d(!1),K=d(!1),Q=d(!1),V=d(0),F=d(!1),C=d(""),xe=t=>!!t&&typeof t=="object",at=d([{text:"View",value:"view"},{text:"Cancel",value:"cancel"}]),W=d([]),ke=d({}),ve=d(Dt),st=je(()=>({details:{required:ye.withMessage("Details is required",Se)},selectedContactItem:{objectRequired:ye.withMessage("Contact is required",xe)},selectedServiceLocationItem:{required:ye.withMessage("Service Location is required",Se)},bodyFields:W.value?W.value.map(t=>t.isMandatory.value?{required:ye.withMessage(`${t.displayLabel.value} is required`,Se)}:{}):[]})),le=d(""),Ve=d([0]),ot=d(["Site"]),Ee=d([]),Ie=d([]),nt=window.innerHeight*.48,$e=d(""),te=d(!1),lt=[{id:"selectedServiceLocationItem",dynamicId:-1,displayOrder:1,type:"select",label:"Choose a Service Location",vModel:"selectedServiceLocation",placeholder:"Select a Service Location",required:!0,fetchData:async(t,e)=>{const{search:s,pageNumber:r,pageSize:i}=t,v=[{key:"custrecord_nx_asset_type",operator:"ANYOF",value:"1"}];s&&v.push({key:"name",operator:"CONTAINS",value:s});const{equipments:y,errors:f}=await x(r,i,void 0,v);f.value.length>0&&(console.error("Error loading service location items:",f.value),c());const q=y.value.map(S=>{var b,J;return{...S[0],id:(b=S.find(H=>H.id==="internalid"))==null?void 0:b.value,name:(J=S.find(H=>H.id==="name"))==null?void 0:J.value}});e(q,q.length)},selectionChange:t=>{var e,s;I.selectedServiceLocationItem=t.length?{value:(e=t[0])==null?void 0:e.id,text:(s=t[0])==null?void 0:s.name}:null},isDynamic:!1},{id:"details",dynamicId:-1,displayOrder:2,type:"textarea",label:"Details",vModel:"details",required:!0,isDynamic:!1},{id:"selectedContactItem",dynamicId:-1,displayOrder:3,type:"select",label:"Choose a Contact",vModel:"selectedContact",placeholder:"Select a Contact",required:!0,fetchData:async(t,e)=>{const s=[],{search:r,pageNumber:i,pageSize:v}=t;B.value&&s.push({key:"company",operator:"ANYOF",value:B.value.value}),r&&s.push({key:"entityid",operator:"CONTAINS",value:r});const{contacts:y,errors:f}=await L(i,v,void 0,s);f.value.length>0&&(console.error("Error loading contact items:",f.value),c()),R.value=y.value.map(S=>S.reduce((b,J)=>(b[J.id]=J.text??J.value,b),{}));const q=y.value.map(S=>{var b,J;return{...S[0],id:(b=S.find(H=>H.id==="internalid"))==null?void 0:b.value,name:(J=S.find(H=>H.id==="entityid"))==null?void 0:J.value}});e(q,q.length)},selectionChange:t=>{var e,s;I.selectedContactItem=t.length?{value:(e=t[0])==null?void 0:e.id,text:(s=t[0])==null?void 0:s.name}:null},isDynamic:!1}],rt=je(()=>{const t=W.value.map((s,r)=>({id:s.fieldId.value,dynamicId:r,displayOrder:Number(s.displayOrder.value),label:`${s.displayLabel.value}`,type:"select",vModel:`${s.fieldId.value}`,required:!!s.isMandatory.value,placeholder:"Search and select...",isDynamic:!0,fetchData:async(i,v)=>ht(i,v,W.value.indexOf(s)),selectionChange:i=>Ct(i,s,W.value.indexOf(s))}));t.sort((s,r)=>s.displayOrder-r.displayOrder);const e=[...lt];for(let s=0;s<t.length;s++)e.splice(t[s].displayOrder-1,0,t[s]);return e}),X=Jt(st,I),qe=()=>{X.value.$reset();for(const[t,e]of Object.entries(ue))I[t]=e;I.bodyFields=[]},ct=async()=>{const t=R.value.find(i=>i.internalid===I.selectedContactItem.value),e=new Ut("");e.fieldServiceAsset={text:I.selectedServiceLocationItem.text,value:I.selectedServiceLocationItem.value},e.fieldServiceCaseDetails={text:`${I.details}`,value:`${I.details}`},e.email={text:t.email,value:t.email},e.phone={text:t.phone,value:t.phone},e.bodyFields=I.bodyFields.filter(i=>i!==null);const{pendingJob:s,errors:r}=await P(e);if(r.value.length>0){console.error("Error creating new request job:",r.value),c();return}else K.value=!0;return _.value=!1,qe(),s},Oe=()=>{ne.value.clearValue()},it=async()=>{if(!await X.value.$validate())return;$.value=!0;const e=await ct();e&&(C.value=e.value.id),$.value=!1,me({page:1,itemsPerPage:ve.value})},dt=async()=>{z.value=!0,await _t(),z.value=!1,_.value=!_.value},ut=(t,e)=>{switch(t.target.innerText){case"View":pe(e.internalid);break;case"Cancel":pt(e.internalid);break}},vt=(t,e)=>{var r;const s=(r=e==null?void 0:e.item)==null?void 0:r.internalid;s?pe(s):console.warn("Internal Id not found in the row data:",e)},pe=t=>{k.value=!0,le.value=t},pt=async t=>{F.value=!0,await bt(t)?Q.value=!Q.value:(le.value=t,te.value=!te.value),F.value=!1},mt=async()=>{F.value=!0,te.value=!te.value;const{errors:t}=await h(le.value);t.value.length>0?(console.error("Error Cancel Case:",t.value),c(),F.value=!1):(await Ne(),pe(le.value))},yt=async()=>{const{entryForm:t,errors:e}=await D("CASE");if(e.value.length>0)console.error("Error loading pendingJob entry form",e.value),c(),F.value=!1;else return t},bt=async t=>{var v,y;const e=await yt();e.value.groups.push({label:"UI_INJECTED_FIELDS",visible:!1,fields:[{id:"custevent_fsm_bc_is_canceled",label:"Is Canceled",visible:!1},{id:"casenumber",label:"Case Number",visible:!1}]});const{pendingJob:s,errors:r}=await m(t,e.value);r.value.length>0&&(console.error("Error loading pendingJob",r.value),c(),F.value=!1);const i=(v=s.value.bodyFields.find(f=>f.id==="custevent_fsm_bc_is_canceled"))==null?void 0:v.value;return $e.value=(y=s.value.bodyFields.find(f=>f.id==="casenumber"))==null?void 0:y.value,i||!1},gt=()=>{K.value=!1,pe(C.value)},ht=async(t,e,s)=>{const{search:r,pageNumber:i,pageSize:v}=t,y=ke.value[s].map(b=>({value:b.value,text:b.text})),f=(i-1)*v,q=f+v-1,S=r?y.filter(b=>{var J;return(J=b.text)==null?void 0:J.toLowerCase().includes(r.toLowerCase())}):y;e(S.slice(f,q+1),S.length)},ft=async(t="")=>{const e=[];B.value&&e.push({key:"company",operator:"ANYOF",value:B.value.value}),t&&e.push({key:"entityid",operator:"CONTAINS",value:t});const{contacts:s,errors:r}=await L(1,1e3,void 0,e);r.value.length>0?(console.error("Error loading contact items:",r.value),c()):(ie.value=s.value.map(i=>{var v,y;return{text:(v=i.find(f=>f.id==="entityid"))==null?void 0:v.value,value:(y=i.find(f=>f.id==="internalid"))==null?void 0:y.value}}),R.value=s.value.map(i=>i.reduce((v,y)=>(v[y.id]=y.text??y.value,v),{})))},me=async({page:t,itemsPerPage:e,sortBy:s,filterBy:r})=>{var f,q;F.value=!0,U.value&&(r=r?r.concat({key:"createddate",operator:"onorbefore",value:U.value}):[{key:"createddate",operator:"onorbefore",value:U.value}]),await wt();const{pendingJobs:i,totalItems:v,errors:y}=await u(t,e,s,r);y.value.length>0&&y.value[0]!=="Invalid page range: fetch."?(console.error("Error loading jobs:",y.value),c(),F.value=!1):(Ee.value=((f=i.value)==null?void 0:f.length)>0?i.value[0].reduce((S,b)=>(b.id!=="internalid"&&b.id!=="custevent_fsm_bc_is_canceled"&&S.push({title:b.label,key:b.id}),S),[]).concat({title:"Actions",key:"actions"}):[],Ie.value=(q=i.value)==null?void 0:q.map(S=>S.reduce((b,J)=>(J.id&&(b[J.id]=J.text??J.value),b),{})),V.value=v.value,F.value=!1)},_t=async()=>{var s;const{pendingJobEntryFields:t,errors:e}=await A();if(e.value.length>0){console.error("Error loading pendingJob entry fields",e.value),c();return}(s=t==null?void 0:t.value)!=null&&s.length&&(W.value=t.value.sort((r,i)=>(Number(r.displayOrder.value)??0)-(Number(i.displayOrder.value)??0)),ke.value=await Promise.all(W.value.map(async r=>{const{options:i,errors:v}=await oe(r);return v.value.length>0?(console.error(`Error fetching options for field ${r.id}:`,v.value),c(),[]):i.value})))},Ct=(t,e,s)=>{var r,i;I.bodyFields[s]=t.length?{id:e.fieldId.value,value:(r=t[0])==null?void 0:r.value,text:(i=t[0])==null?void 0:i.text}:null},wt=async()=>{if(l!=null&&l.isCustomer){const{customers:t,errors:e}=await T(l.name.text);e.value.length>0?(console.error("Error loading service customer items:",e.value),c()):t.value.length>0&&(B.value={text:t.value[0].bodyFields[0].text,value:t.value[0].id})}},Ne=async()=>{await ce(U,de),await me({page:1,itemsPerPage:ve.value})},xt=async()=>{Oe()};return Fe([U],()=>{me({page:1,itemsPerPage:ve.value})}),Fe(B,()=>{B.value&&typeof B.value=="object"&&ft()}),Fe(_,t=>{t||qe()}),Qe(async()=>{await ce(U,de)}),(t,e)=>{const s=M("v-col"),r=M("v-row"),i=M("v-btn"),v=M("v-toolbar-title"),y=M("v-toolbar"),f=M("v-chip"),q=M("v-chip-group"),S=M("v-card-text"),b=M("v-card"),J=M("v-dialog"),H=M("v-textarea");return w(),G(he,null,[p(Vt,null,{icon:g(()=>[n("span",null,[p($t)])]),pagename:g(()=>[j("Pending Jobs")]),content:g(()=>[n("div",Ia,[Fa,n("div",null,[n("div",Sa,[Ja,p(_e,{style:{width:"100%"},text:"Request New Job",type:"primary",callback:dt})])])]),Pa,n("div",ka,[n("div",Va,[Ea,p(ae(Ot),{id:"date",name:"date",placeholder:"Select Date",modelValue:U.value,"onUpdate:modelValue":e[0]||(e[0]=o=>U.value=o),format:"dd/MM/yyyy","model-type":"dd/MM/yyyy",onClear:e[1]||(e[1]=o=>Oe()),"enable-time-picker":!1,ref_key:"datePicker",ref:ne},null,8,["modelValue"])])]),z.value?(w(),O(Pe,{key:0})):E("",!0)]),_:1}),n("div",$a,[n("section",qa,[n("div",Oa,[j(" Total pending jobs: "),n("span",null,ee(Ie.value.length),1)]),n("div",Na,[n("div",La,[p(qt,{tableHeaders:Ee.value,tableItems:Ie.value,loading:F.value,itemsLength:V.value,pageSize:ve.value,tableHeight:nt,optionItems:at.value,onRefreshTable:Ne,onClearFilters:xt,onUpdateOptions:me,onRowClick:vt,onViewItem:ut},null,8,["tableHeaders","tableItems","loading","itemsLength","pageSize","optionItems"])])])])]),p(ze,{modelValue:k.value,"onUpdate:modelValue":e[3]||(e[3]=o=>k.value=o)},{header:g(()=>[n("div",Da,[Ma,n("div",Ta,[n("span",{class:"form-action",onClick:e[2]||(e[2]=o=>k.value=!1)},[p(kt,{type:"secondary"})])])])]),content:g(()=>[p(xa,{pendingJobId:le.value},null,8,["pendingJobId"])]),_:1},8,["modelValue"]),p(ze,{modelValue:_.value,"onUpdate:modelValue":e[5]||(e[5]=o=>_.value=o)},{content:g(()=>[n("div",Ua,[p(r,{class:"pb-2"},{default:g(()=>[p(s,null,{default:g(()=>[Ba]),_:1})]),_:1}),(w(!0),G(he,null,Ae(rt.value,o=>(w(),O(r,{key:o.id},{default:g(()=>[p(s,null,{default:g(()=>{var Le,De,Me,Te,Ue,Be;return[n("div",ja,[n("label",{for:o.id,class:"bc-text bc-text-gray-700 bc-fw-500"},[j(ee(o.label)+" ",1),o.required?(w(),G("span",Ra,"*")):E("",!0),o.id==="serviceLocation"?(w(),O(J,{key:1},{activator:g(({props:Y})=>[n("span",St({class:"bc-text bc-text-gray-700 bc-fs-12 bc-clickable",ref_for:!0},Y),"Filter",16)]),default:g(({isActive:Y})=>[p(b,{class:"mx-auto",width:"400"},{default:g(()=>[p(y,null,{default:g(()=>[p(i,{icon:"mdi-close",onClick:re=>Y.value=!1},null,8,["onClick"]),p(v,null,{default:g(()=>[j("Filter results")]),_:1})]),_:2},1024),p(S,null,{default:g(()=>[za,p(q,{modelValue:Ve.value,"onUpdate:modelValue":e[4]||(e[4]=re=>Ve.value=re),column:"",multiple:""},{default:g(()=>[(w(!0),G(he,null,Ae(ot.value,re=>(w(),O(f,{key:re,text:re,filter:"",variant:"outlined",disabled:!0},null,8,["text"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:2},1024)]),_:1})):E("",!0),o.id==="details"?(w(),G("div",Ha," List job details, equipment to be serviced, etc. ")):E("",!0)],8,Aa),o.type==="select"&&o.isDynamic?(w(),O(Re,{key:0,id:o.id,name:o.id,onFetchData:o.fetchData,onSelectionChange:o.selectionChange,placeholder:o.placeholder,"key-prop":"value","label-prop":"text"},null,8,["id","name","onFetchData","onSelectionChange","placeholder"])):E("",!0),o.type==="input"?(w(),O(Mt,{key:1,type:"text",id:o.id,name:o.id,modelValue:I[o.vModel],"onUpdate:modelValue":Y=>I[o.vModel]=Y,placeholder:o.placeholder,"error-messages":ae(X)[o.id].$errors.map(Y=>Y.$message)},null,8,["id","name","modelValue","onUpdate:modelValue","placeholder","error-messages"])):E("",!0),o.type==="select"&&!o.isDynamic?(w(),O(Re,{key:2,id:o.id,name:o.id,onFetchData:o.fetchData,onSelectionChange:o.selectionChange,placeholder:o.placeholder,pagination:!1},null,8,["id","name","onFetchData","onSelectionChange","placeholder"])):E("",!0),o.type==="textarea"?(w(),O(H,{key:3,id:o.id,name:o.id,variant:"outlined",density:"comfortable",modelValue:I[o.vModel],"onUpdate:modelValue":Y=>I[o.vModel]=Y,counter:3950},null,8,["id","name","modelValue","onUpdate:modelValue"])):E("",!0),(Le=ae(X).bodyFields[o.dynamicId])!=null&&Le.$error&&o.isDynamic?(w(),G("div",Ya,ee((Me=(De=ae(X).bodyFields[o.dynamicId])==null?void 0:De.$errors[0])==null?void 0:Me.$message),1)):E("",!0),(Te=ae(X)[o.id])!=null&&Te.$error?(w(),G("div",Ga,ee((Be=(Ue=ae(X)[o.id])==null?void 0:Ue.$errors[0])==null?void 0:Be.$message),1)):E("",!0)])]}),_:2},1024)]),_:2},1024))),128))]),$.value?(w(),O(Pe,{key:0})):E("",!0)]),actions:g(()=>[n("div",Ka,[p(_e,{text:"Confirm & Request",type:"primary",callback:it})])]),_:1},8,["modelValue"]),p(fe,{type:"primary",modelValue:K.value,"onUpdate:modelValue":e[6]||(e[6]=o=>K.value=o)},{content:g(()=>[Qa,Wa]),action:g(()=>[p(_e,{text:"View Case",type:"primary",callback:gt})]),_:1},8,["modelValue"]),p(fe,{modelValue:te.value,"onUpdate:modelValue":e[7]||(e[7]=o=>te.value=o),onOnOk:mt,type:"warning"},{content:g(()=>[n("span",Xa,"Are you certain about canceling this "+ee($e.value)+"?",1),Za]),_:1},8,["modelValue"]),p(fe,{modelValue:Q.value,"onUpdate:modelValue":e[8]||(e[8]=o=>Q.value=o)},{content:g(()=>[es,ts]),_:1},8,["modelValue"])],64)}}}),_s=Ze(as,[["__scopeId","data-v-21edc1e3"]]);export{_s as default};
